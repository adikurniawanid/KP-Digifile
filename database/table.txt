-- Table: public.detail_activity

-- DROP TABLE public.detail_activity;

CREATE TABLE public.detail_activity
(
    activity_id integer NOT NULL,
    description character varying COLLATE pg_catalog."default" NOT NULL,
    CONSTRAINT detail_activity_pkey PRIMARY KEY (activity_id)
)

TABLESPACE pg_default;

ALTER TABLE public.detail_activity
    OWNER to akdev;
    
-- Table: public.files

-- DROP TABLE public.files;

CREATE TABLE public.files
(
    file_id integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 999999 CACHE 1 ),
    file_name character varying COLLATE pg_catalog."default" NOT NULL,
    directory character varying COLLATE pg_catalog."default" NOT NULL,
    size double precision NOT NULL,
    trash_status boolean NOT NULL,
    CONSTRAINT files_pkey PRIMARY KEY (file_id)
)

TABLESPACE pg_default;

ALTER TABLE public.files
    OWNER to akdev;

-- Table: public.log_activity

-- DROP TABLE public.log_activity;

CREATE TABLE public.log_activity
(
    log_id integer NOT NULL GENERATED ALWAYS AS IDENTITY ( INCREMENT 1 START 1 MINVALUE 1 MAXVALUE 999999 CACHE 1 ),
    username character varying COLLATE pg_catalog."default" NOT NULL,
    file_id integer NOT NULL,
    activity_id integer NOT NULL,
    activity_date date NOT NULL,
    CONSTRAINT log_activity_pkey PRIMARY KEY (log_id),
    CONSTRAINT fk_activity_id FOREIGN KEY (activity_id)
        REFERENCES public.detail_activity (activity_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID,
    CONSTRAINT fk_file_id FOREIGN KEY (file_id)
        REFERENCES public.files (file_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID,
    CONSTRAINT fk_username FOREIGN KEY (username)
        REFERENCES public.users (username) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
        NOT VALID
)

TABLESPACE pg_default;

ALTER TABLE public.log_activity
    OWNER to akdev;
    
-- Table: public.users

-- DROP TABLE public.users;

CREATE TABLE public.users
(
    username character varying(18) COLLATE pg_catalog."default" NOT NULL,
    name character varying(55) COLLATE pg_catalog."default" NOT NULL,
    password character varying COLLATE pg_catalog."default" NOT NULL,
    phone character varying(15) COLLATE pg_catalog."default" NOT NULL,
    email character varying(30) COLLATE pg_catalog."default" NOT NULL,
    space double precision,
    unused_space double precision,
    level integer,
    CONSTRAINT user_pkey PRIMARY KEY (username)
)

TABLESPACE pg_default;

ALTER TABLE public.users
    OWNER to akdev;
